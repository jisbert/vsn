apply plugin: 'application'
apply plugin: 'groovy'

mainClassName = "vsn.Cli"

repositories {
  mavenCentral()
}

dependencies {
  compile 'ch.qos.logback:logback-classic:1.1.3'
  compile 'commons-cli:commons-cli:1.3.1'
  compile 'org.codehaus.groovy:groovy-all:2.4.5'
  compile fileTree(dir: 'lib', include: '**/*.jar', excludes: ['**/comtest.jar', '**/tools/**'])
  testCompile "org.spockframework:spock-core:1.0-groovy-2.4"
  testRuntime "cglib:cglib-nodep:3.1"
  testRuntime "org.objenesis:objenesis:2.1"
}

javadoc {
  options.author = true
  options.charSet = 'UTF-8'
  options.noQualifiers = ['all']
}

task sourcesJar(type: Jar, dependsOn: classes) {
  classifier = 'sources'
  from sourceSets.main.allSource
}

task javadocJar(type: Jar, dependsOn: javadoc) {
  classifier = 'javadoc'
  from javadoc.destinationDir
}

artifacts {
  archives javadocJar
  archives sourcesJar
}
